/*! For license information please see knowme-widget.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["React","ReactDOM"],t):"object"==typeof exports?exports.KnowmeWidget=t(require("react"),require("react-dom")):e.KnowmeWidget=t(e.React,e.ReactDOM)}(this,(e,t)=>(()=>{"use strict";var n={20:(e,t,n)=>{var r=n(156),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},156:t=>{t.exports=e},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},318:e=>{e.exports=t},338:(e,t,n)=>{var r=n(318);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},408:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([e.id,"/* Minimal global styles for the widget */\n.knowme-widget * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\n.knowme-widget {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n  font-size: 14px;\n  line-height: 1.5;\n  color: #1f2937;\n}\n\n.knowme-widget button {\n  font-family: inherit;\n  font-size: inherit;\n}\n\n.knowme-widget input {\n  font-family: inherit;\n  font-size: inherit;\n}\n\n/* Widget-specific animations */\n@keyframes knowme-widget-bounce {\n  0%, 80%, 100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n\n@keyframes knowme-widget-blink {\n  0%, 50% {\n    opacity: 1;\n  }\n  51%, 100% {\n    opacity: 0;\n  }\n}",""]);const s=a},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},848:(e,t,n)=>{e.exports=n(20)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,exports:{}};return n[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nc=void 0;var i={};o.d(i,{default:()=>U});var a=o(156),s=o.n(a),c=o(338),l=o(848),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)},d=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},p=function(e){return this instanceof p?(this.v=e,this):new p(e)},f=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},h=function(){return(0,l.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,l.jsx)("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})},y=function(){return(0,l.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,l.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,l.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})},x=function(){return(0,l.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,l.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})},m=function(){return(0,l.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,l.jsx)("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),(0,l.jsx)("polygon",{points:"22,2 15,22 11,13 2,9 22,2"})]})};function g(e){var t=this,n=e.apiBaseUrl,r=void 0===n?"http://localhost:8000":n,o=e.theme,i=void 0===o?{primary:"#3b82f6",secondary:"#f3f4f6",background:"#ffffff",text:"#1f2937"}:o,s=e.position,c=void 0===s?"bottom-right":s,g=e.greeting,v=void 0===g?"Hi! I'm Knowme AI. Ask me anything about Piyawong's professional background!":g,b=(0,a.useState)(!1),w=b[0],j=b[1],k=(0,a.useState)(!1),S=k[0],C=k[1],R=(0,a.useState)([]),I=R[0],O=R[1],E=(0,a.useState)(""),_=E[0],T=E[1],A=(0,a.useState)(!1),P=A[0],D=A[1],M=(0,a.useState)(function(){return"widget_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,9))})[0],U=(0,a.useState)(""),W=U[0],z=U[1],L=(0,a.useRef)(null),B=(0,a.useRef)(null);(0,a.useEffect)(function(){!function(){var e;null===(e=L.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()},[I,W]),(0,a.useEffect)(function(){if(w&&0===I.length){var e={id:"welcome",content:v,isUser:!1,timestamp:new Date};O([e])}},[w,v,I.length]);var N=function(e){return n=t,o=void 0,a=function(){var t,n,o,i,a,s,c,l,u,h,y,x,m;return d(this,function(g){switch(g.label){case 0:if(!e.trim()||P)return[2];t={id:"user_".concat(Date.now()),content:e.trim(),isUser:!0,timestamp:new Date},O(function(e){return f(f([],e,!0),[t],!1)}),T(""),D(!0),z(""),g.label=1;case 1:g.trys.push([1,14,15,16]),n="ai_".concat(Date.now()),o="",g.label=2;case 2:g.trys.push([2,7,8,13]),i=function(){m=c.value,a=!1;var e=m;if(e.content&&(o+=e.content,z(o)),e.is_complete){var t={id:n,content:o,isUser:!1,timestamp:new Date};return O(function(e){return f(f([],e,!0),[t],!1)}),z(""),"break"}},a=!0,s=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}}(function(e,t){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,l)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=o[e](t)).value instanceof p?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}(this,arguments,function(e,t,n){var r,o,i,a,s,c,l,u,f,h,y,x,m,g,v;return void 0===n&&(n="http://localhost:8000"),d(this,function(d){switch(d.label){case 0:return r=window.location.origin,console.log("currentOrigin",r),[4,p(fetch("".concat(n,"/api/chat/stream"),{method:"POST",headers:{"Content-Type":"application/json",Origin:r,"X-Widget-Origin":r},body:JSON.stringify({message:e,session_id:t,origin:r})}))];case 1:if(!(o=d.sent()).ok)throw new Error("HTTP error! status: ".concat(o.status));if(!(i=null===(v=o.body)||void 0===v?void 0:v.getReader()))throw new Error("No response body");a=new TextDecoder,s="",d.label=2;case 2:d.trys.push([2,,14,15]),d.label=3;case 3:return[4,p(i.read())];case 4:if(c=d.sent(),l=c.done,u=c.value,l)return[3,13];s+=a.decode(u,{stream:!0}),f=s.split("\n"),s=f.pop()||"",h=0,y=f,d.label=5;case 5:return h<y.length?(x=y[h]).startsWith("data: ")?"[DONE]"!==(m=x.slice(6))?[3,7]:[4,p(void 0)]:[3,11]:[3,12];case 6:return[2,d.sent()];case 7:return d.trys.push([7,10,,11]),g=JSON.parse(m),[4,p(g)];case 8:return[4,d.sent()];case 9:return d.sent(),[3,11];case 10:return d.sent(),console.warn("Failed to parse SSE data:",m),[3,11];case 11:return h++,[3,5];case 12:return[3,3];case 13:return[3,15];case 14:return i.releaseLock(),[7];case 15:return[2]}})})}(e.trim(),M,r)),g.label=3;case 3:return[4,s.next()];case 4:if(c=g.sent(),h=c.done)return[3,6];if("break"===i())return[3,6];g.label=5;case 5:return a=!0,[3,3];case 6:return[3,13];case 7:return l=g.sent(),y={error:l},[3,13];case 8:return g.trys.push([8,,11,12]),a||h||!(x=s.return)?[3,10]:[4,x.call(s)];case 9:g.sent(),g.label=10;case 10:return[3,12];case 11:if(y)throw y.error;return[7];case 12:return[7];case 13:return[3,16];case 14:return g.sent(),u={id:"error_".concat(Date.now()),content:"Sorry, I encountered an error. Please try again.",isUser:!1,timestamp:new Date},O(function(e){return f(f([],e,!0),[u],!1)}),z(""),[3,16];case 15:return D(!1),[7];case 16:return[2]}})},new((i=void 0)||(i=Promise))(function(e,t){function r(e){try{c(a.next(e))}catch(e){t(e)}}function s(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i(function(e){e(n)})).then(r,s)}c((a=a.apply(n,o||[])).next())});var n,o,i,a},F=function(){j(!w),C(!1)},K=u({position:"fixed",zIndex:2147483647,fontFamily:"system-ui, -apple-system, BlinkMacSystemFont, sans-serif",fontSize:"14px"},{"bottom-right":{bottom:"20px",right:"20px"},"bottom-left":{bottom:"20px",left:"20px"},"top-right":{top:"20px",right:"20px"},"top-left":{top:"20px",left:"20px"}}[c]);return(0,l.jsxs)("div",{style:K,children:[!w&&(0,l.jsx)("button",{onClick:F,style:{width:"56px",height:"56px",borderRadius:"50%",backgroundColor:i.primary,color:"white",border:"none",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s ease"},onMouseEnter:function(e){return e.currentTarget.style.transform="scale(1.1)"},onMouseLeave:function(e){return e.currentTarget.style.transform="scale(1)"},children:(0,l.jsx)(h,{})}),w&&(0,l.jsxs)("div",{style:{width:"320px",height:S?"48px":"400px",backgroundColor:i.background,borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.15)",border:"1px solid #e5e7eb",overflow:"hidden",transition:"height 0.3s ease",display:"flex",flexDirection:"column"},children:[(0,l.jsxs)("div",{style:{backgroundColor:i.primary,color:"white",padding:"12px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"48px"},children:[(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,l.jsx)("div",{style:{width:"32px",height:"32px",backgroundColor:"rgba(255,255,255,0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(h,{})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{style:{fontSize:"14px",fontWeight:"600"},children:"Knowme AI"}),(0,l.jsx)("div",{style:{fontSize:"12px",opacity:.8},children:"Online"})]})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,l.jsx)("button",{onClick:S?function(){C(!1)}:function(){C(!0)},style:{background:"none",border:"none",color:"rgba(255,255,255,0.8)",cursor:"pointer",padding:"4px",borderRadius:"4px"},children:(0,l.jsx)(x,{})}),(0,l.jsx)("button",{onClick:F,style:{background:"none",border:"none",color:"rgba(255,255,255,0.8)",cursor:"pointer",padding:"4px",borderRadius:"4px"},children:(0,l.jsx)(y,{})})]})]}),!S&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"12px",display:"flex",flexDirection:"column",gap:"12px"},children:[I.map(function(e){return(0,l.jsx)("div",{style:{display:"flex",justifyContent:e.isUser?"flex-end":"flex-start"},children:(0,l.jsx)("div",{style:{maxWidth:"80%",padding:"8px 12px",borderRadius:"12px",backgroundColor:e.isUser?i.primary:i.secondary,color:e.isUser?"white":i.text,fontSize:"14px",lineHeight:"1.4",borderBottomLeftRadius:e.isUser?"12px":"4px",borderBottomRightRadius:e.isUser?"4px":"12px"},children:e.content})},e.id)}),W&&(0,l.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:(0,l.jsxs)("div",{style:{maxWidth:"80%",padding:"8px 12px",borderRadius:"12px",borderBottomLeftRadius:"4px",backgroundColor:i.secondary,color:i.text,fontSize:"14px",lineHeight:"1.4"},children:[W,(0,l.jsx)("span",{style:{display:"inline-block",width:"2px",height:"16px",backgroundColor:"currentColor",marginLeft:"4px",animation:"blink 1s infinite"}})]})}),P&&!W&&(0,l.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:(0,l.jsxs)("div",{style:{padding:"8px 12px",borderRadius:"12px",borderBottomLeftRadius:"4px",backgroundColor:i.secondary,display:"flex",gap:"4px",alignItems:"center"},children:[(0,l.jsx)("div",{style:{width:"4px",height:"4px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out"}}),(0,l.jsx)("div",{style:{width:"4px",height:"4px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out 0.16s"}}),(0,l.jsx)("div",{style:{width:"4px",height:"4px",backgroundColor:"#9ca3af",borderRadius:"50%",animation:"bounce 1.4s infinite ease-in-out 0.32s"}})]})}),(0,l.jsx)("div",{ref:L})]}),(0,l.jsxs)("div",{style:{borderTop:"1px solid ".concat(i.secondary),padding:"12px",display:"flex",gap:"8px"},children:[(0,l.jsx)("input",{ref:B,type:"text",value:_,onChange:function(e){return T(e.target.value)},onKeyPress:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N(_))},placeholder:"Type your message...",style:{flex:1,padding:"8px 12px",border:"1px solid ".concat(i.secondary),borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:i.background,color:"black"},disabled:P,maxLength:300}),(0,l.jsx)("button",{onClick:function(){return N(_)},disabled:!_.trim()||P,style:{width:"32px",height:"32px",backgroundColor:i.primary,color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:!_.trim()||P?.5:1},children:(0,l.jsx)(m,{})})]})]})]}),(0,l.jsx)("style",{children:"\n          @keyframes blink {\n            0%, 50% { opacity: 1; }\n            51%, 100% { opacity: 0; }\n          }\n          @keyframes bounce {\n            0%, 80%, 100% { transform: scale(0); }\n            40% { transform: scale(1); }\n          }\n        "})]})}var v=o(72),b=o.n(v),w=o(825),j=o.n(w),k=o(659),S=o.n(k),C=o(56),R=o.n(C),I=o(540),O=o.n(I),E=o(113),_=o.n(E),T=o(408),A={};A.styleTagTransform=_(),A.setAttributes=R(),A.insert=S().bind(null,"head"),A.domAPI=j(),A.insertStyleElement=O(),b()(T.A,A),T.A&&T.A.locals&&T.A.locals;var P=null,D=null,M={init:function(e){if(void 0===e&&(e={}),void 0!==s()&&void 0!==c)if(D)console.warn("KnowmeWidget is already initialized");else try{(D=document.createElement("div")).id="knowme-widget-container",D.style.cssText="\n        position: fixed;\n        z-index: 2147483647;\n        pointer-events: none;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n      ",document.body.appendChild(D);var t=e.apiBaseUrl||"http://localhost:8000";console.log("Initializing widget with API URL:",t);var n=s().createElement("div",{style:{pointerEvents:"auto"}},s().createElement(g,{apiBaseUrl:t,theme:e.theme,position:e.position,greeting:e.greeting}));c.createRoot?(P=c.createRoot(D))&&P.render(n):c.render(n,D)}catch(e){if(console.error("Failed to initialize KnowmeWidget:",e),D){try{document.body.removeChild(D)}catch(e){console.warn("Failed to cleanup container:",e)}D=null}}else console.error("React and ReactDOM must be loaded before initializing KnowmeWidget")},destroy:function(){try{P&&P.unmount&&(P.unmount(),P=null),D&&(!P&&c.unmountComponentAtNode&&c.unmountComponentAtNode(D),document.body.removeChild(D),D=null)}catch(e){if(console.warn("Error during widget cleanup:",e),P=null,D){try{document.body.removeChild(D)}catch(e){console.warn("Failed to remove container:",e)}D=null}}}};document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("script[data-knowme-widget]");if(e)try{var t=JSON.parse(e.getAttribute("data-knowme-widget")||"{}");M.init(t)}catch(e){console.error("Failed to parse KnowmeWidget config:",e),M.init()}}),window.KnowmeWidget=M;const U=M;return i.default})());